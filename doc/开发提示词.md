书城阅读网站开发提示词
一、项目概述
构建一个纯粹的电子书在线阅读网站，实现用户端浏览、搜索、阅读电子书，管理端对书籍、用户、分类等进行全量管理。
后端采用 Spring Boot 3.x + Java 17，前端分为两个独立Vue3项目（用户端/管理端），均使用 Element Plus UI库，图表采用 ECharts 展示统计信息。
数据库选用 MySQL 8.x，ORM框架使用 MyBatis Plus。

二、技术栈明细
层次	技术选型
后端	Spring Boot 3.x, Java 17, MyBatis Plus, MySQL 8.x, JWT, Lombok, Swagger
前端用户端	Vue 3, Vite, Vue Router, Pinia, Axios, Element Plus, ECharts
前端管理端	Vue 3, Vite, Vue Router, Pinia, Axios, Element Plus, ECharts, wangEditor（可选）
中间件	Redis（可选，用于会话/缓存），MinIO/阿里云OSS（用于书籍文件存储）
工具	Git, Maven, Postman, Navicat
三、功能模块要求
1. 用户端（前台）
用户认证：注册、登录（JWT）、退出、密码重置（邮箱验证可选）。

首页：轮播图推荐书籍、热门书籍、新书上架、分类导航。

书籍列表：按分类、书名、作者筛选，分页展示，支持按热度/更新时间排序。

书籍详情：展示封面、书名、作者、简介、出版信息、评分、收藏量；阅读按钮跳转阅读页。

阅读器：纯文本/EPUB解析（可使用epub.js或pdf.js），支持字号调节、主题切换（白天/夜间）、进度记忆、目录跳转。

个人中心：头像上传、个人信息修改、我的书架（收藏）、阅读历史、账户安全。

数据统计（用户端简单展示）：我的阅读时长统计（ECharts饼图/柱图）、分类阅读偏好。

2. 管理端（后台）
登录：独立登录，基于角色权限（管理员/编辑）。

仪表盘：ECharts展示总用户数、总书籍数、今日访问量、热门书籍排行（图表）。

书籍管理：书籍上传（支持PDF、EPUB、TXT）、封面上传、书籍元信息录入（分类、作者、出版社、ISBN等）、上下架、批量导入导出。

分类管理：树形结构分类（如文学-小说-科幻），增删改查。

用户管理：查看用户列表、禁用/启用、重置密码。

阅读数据：书籍阅读量统计、用户活跃度图表。

系统设置：轮播图管理、公告配置。

四、数据库设计要点
核心表至少包含：

用户表（user）：id, username, password, nickname, avatar, email, role(0普通/1管理员), status, create_time

书籍表（book）：id, title, author, publisher, isbn, category_id, cover_url, description, file_url, file_type, status(0下架/1上架), visit_count, create_time

分类表（category）：id, name, parent_id, sort_order

收藏表（favorite）：id, user_id, book_id, create_time

阅读历史表（read_history）：id, user_id, book_id, chapter, progress, read_time

轮播图表（carousel）：id, image_url, link, sort_order, status

访问日志表（visit_log）：id, user_id, ip, url, visit_time（可选，用于统计）

表字段可根据实际扩展，使用外键或逻辑关联均可，推荐逻辑关联。

五、后端架构与API规范
1. 项目结构
text
src/main/java/com/bookstore/
├── common          // 通用类（异常处理、常量、工具类）
├── config          // 配置类（CORS、Swagger、MyBatisPlus分页）
├── controller      // 控制器（按模块划分：user, book, admin...）
├── service         // 业务接口及实现
├── mapper          // MyBatis Plus接口
├── entity          // 实体类
├── dto             // 数据传输对象（请求/响应）
├── vo              // 视图对象（前端展示）
└── security        // JWT拦截器、自定义权限注解
2. API设计风格
RESTful，返回统一格式：{code: 200, message: "success", data: {...}}

认证接口：/api/user/login /api/user/register /api/user/info

书籍接口：/api/book/list /api/book/detail/{id} /api/book/read/{id}

管理接口：前缀 /api/admin/...，JWT权限校验

3. 文件存储
书籍文件、封面图推荐使用对象存储（MinIO本地或云OSS）。

上传接口接收 MultipartFile，返回访问URL存入数据库。

4. 安全与鉴权
JWT拦截器：除登录注册外均需token验证，管理端接口额外验证角色。

密码使用BCrypt加密。

六、前端架构与页面要求
1. 通用规范
使用 Vue 3 Composition API + <script setup> 语法。

状态管理使用 Pinia，按模块拆分store。

路由使用 Vue Router 4，用户端与管理端项目分离，独立仓库。

HTTP请求封装：Axios实例，统一拦截token、错误提示。

2. 用户端
布局：头部导航栏、主体内容、底部。

首页：利用Element Plus栅格布局，ECharts嵌入“阅读统计”模块（个人中心页面）。

书籍列表页：卡片式展示，侧边分类筛选。

阅读器页：全屏风格，顶部工具条，左侧目录抽屉，右侧内容区。

响应式：适配移动端阅读（至少1024px以上设备）。

3. 管理端
布局：经典侧栏菜单 + 头部 + 内容区域（Layout布局）。

仪表盘：ECharts展示折线图（日活）、饼图（书籍分类占比）。

书籍表单：使用Element Plus表单组件，分类采用级联选择器，富文本编辑器（推荐wangEditor）用于书籍简介。

上传组件：封面图片上传 + 电子书文件上传，进度显示。

七、开发步骤建议
环境搭建：安装JDK 17、MySQL 8、Node 16+、Maven、Git。

数据库脚本：设计表结构，生成SQL并初始化数据。

后端项目初始化：Spring Boot整合MyBatis Plus、JWT、Swagger，编写基础通用返回类、异常处理。

核心功能实现：

用户模块（注册登录JWT）

书籍模块（增删改查、文件上传）

分类模块

前端项目初始化：创建两个Vue项目，配置Element Plus、Router、Pinia，搭建基础布局。

联调：先完成后端API，前端依次对接。

阅读器开发：调研epub.js或pdf.js集成，实现阅读页。

管理端图表：ECharts集成，从后端拉取统计数据。

部署测试：打包为jar，前端dist部署至Nginx或后端静态资源。

八、注意事项
电子书文件较大，上传时应限制文件大小（建议EPUB/PDF不超过50MB）。

并发阅读时需考虑性能，可使用Redis缓存热点书籍章节。

管理端权限需严格控制，防止未授权访问。

用户密码、Token等敏感信息务必加密存储，HTTP建议使用HTTPS。

前后端联调时注意跨域配置，生产环境应关闭Swagger。

九、扩展建议（可选实现）
引入 WebSocket 实现用户阅读时长实时记录。

增加 ES搜索引擎 提升书籍搜索准确度。

支持 微信/支付宝支付 实现付费书籍（如需商业化）。

