# 小程序端开发阶段计划（执行版）

基于 `doc/开发计划-小程序端.md`，我采用「微信小程序原生」方案，先落地 MVP，再逐步增强。

## 阶段拆分

### Phase 1（本次执行）：项目脚手架与通用能力
- 新建 `library-mp/` 小程序工程目录
- 完成全局配置、页面路由、基础样式
- 完成 `request` 封装（统一 baseURL、JWT 注入、业务错误处理）
- 完成登录态存储与鉴权跳转工具
- 产出小程序端 README（运行说明）

### Phase 2：认证与首页
- 登录页（账号密码登录，复用 `/api/user/login`）
- 首页轮播与热门/最新书籍（复用 `/api/carousel/list`、`/api/book/list`）
- 登录后拉取用户信息（`/api/user/info`）

### Phase 3：书库与详情
- 书库页：分类树、关键词搜索、分页加载
- 详情页：书籍基础信息、收藏/取消收藏

### Phase 4：阅读器、书架、个人中心
- 阅读器：章节列表、正文阅读、进度上报
- 书架：收藏列表
- 个人中心：用户信息、阅读历史、退出登录

### Phase 5（可选）：优化与发布
- 下拉刷新、错误重试、空态完善
- 网络域名与 HTTPS 发布前检查

## 本次执行范围说明

本次先执行 **Phase 1 + Phase 2 的主体**，并打通核心链路：
- 登录 -> 首页 -> 书库 -> 详情 -> 阅读 -> 书架 -> 我的

其中微信 `wx.login` 免密登录依赖后端新增接口，本项目当前后端未提供该接口，因此先采用账号密码登录（与 Web 端一致）。

## 当前进度（2026-02-14）

- Phase 1：已完成
- Phase 2：已完成
- Phase 3：已完成（书库/详情/阅读器，含无章节内容兜底）
- Phase 4：已完成（书架、个人中心、阅读历史入口与退出登录）
